<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Photo Booth - Create Amazing Memories</title>

  <!-- Bootstrap CSS -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" />
  
  <!-- Custom CSS -->
  <style>
    :root {
      --primary-gradient: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      --secondary-gradient: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
      --success-gradient: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);
      --shadow-light: 0 10px 30px rgba(0, 0, 0, 0.1);
      --shadow-heavy: 0 20px 40px rgba(0, 0, 0, 0.15);
      --border-radius: 20px;
    }

    body {
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      min-height: 100vh;
      font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
    }

    .navbar {
      background: rgba(255, 255, 255, 0.95) !important;
      backdrop-filter: blur(10px);
      border-bottom: 1px solid rgba(255, 255, 255, 0.2);
      box-shadow: var(--shadow-light);
    }

    .navbar-brand {
      font-weight: 700;
      font-size: 1.5rem;
      background: var(--primary-gradient);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
    }

    .main-container {
      background: rgba(255, 255, 255, 0.95);
      backdrop-filter: blur(20px);
      border-radius: var(--border-radius);
      box-shadow: var(--shadow-heavy);
      border: 1px solid rgba(255, 255, 255, 0.2);
      max-width: 900px;
      margin: 2rem auto;
      overflow: hidden;
    }

    .hero-section {
      background: var(--primary-gradient);
      color: white;
      padding: 3rem 2rem;
      text-align: center;
      position: relative;
      overflow: hidden;
    }

    .hero-section::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><defs><pattern id="grain" width="100" height="100" patternUnits="userSpaceOnUse"><circle cx="20" cy="20" r="1" fill="white" opacity="0.1"/><circle cx="80" cy="40" r="1" fill="white" opacity="0.1"/><circle cx="40" cy="80" r="1" fill="white" opacity="0.1"/></pattern></defs><rect width="100" height="100" fill="url(%23grain)"/></svg>');
      pointer-events: none;
    }

    .hero-title {
      font-size: 3rem;
      font-weight: 800;
      margin-bottom: 1rem;
      text-shadow: 0 2px 10px rgba(0, 0, 0, 0.3);
    }

    .hero-subtitle {
      font-size: 1.25rem;
      opacity: 0.9;
      margin-bottom: 2rem;
    }

    .form-section {
      padding: 3rem 2rem;
    }

    .email-input {
      border: 2px solid #e9ecef;
      border-radius: 15px;
      padding: 1rem 1.5rem;
      font-size: 1.1rem;
      transition: all 0.3s ease;
      background: rgba(255, 255, 255, 0.8);
    }

    .email-input:focus {
      border-color: #667eea;
      box-shadow: 0 0 0 0.2rem rgba(102, 126, 234, 0.25);
      background: white;
      transform: translateY(-2px);
    }

    .template-card {
      background: white;
      border-radius: var(--border-radius);
      border: 3px solid transparent;
      transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
      overflow: hidden;
      position: relative;
      cursor: pointer;
    }

    .template-card::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background: var(--primary-gradient);
      opacity: 0;
      transition: opacity 0.3s ease;
      z-index: 1;
    }

    .template-card:hover {
      transform: translateY(-10px);
      box-shadow: var(--shadow-heavy);
      border-color: #667eea;
    }

    .template-card:hover::before {
      opacity: 0.05;
    }

    .template-card.selected {
      border-color: #667eea;
      box-shadow: 0 0 0 4px rgba(102, 126, 234, 0.2);
      transform: translateY(-5px);
    }

    .template-card.selected::before {
      opacity: 0.1;
    }

    .template-image-wrapper {
      position: relative;
      overflow: hidden;
      height: 300px;
      background: #f8f9fa;
    }

    .template-img {
      width: 100%;
      height: 100%;
      object-fit: contain;
      transition: transform 0.3s ease;
      position: relative;
      z-index: 2;
    }

    .template-card:hover .template-img {
      transform: scale(1.05);
    }

    .template-info {
      padding: 1.5rem;
      position: relative;
      z-index: 2;
    }

    .template-title {
      font-size: 1.25rem;
      font-weight: 700;
      margin-bottom: 0.5rem;
      color: #2d3748;
    }

    .template-description {
      color: #718096;
      font-size: 0.9rem;
      margin-bottom: 1rem;
    }

    .template-badge {
      display: inline-block;
      background: var(--success-gradient);
      color: white;
      padding: 0.25rem 0.75rem;
      border-radius: 20px;
      font-size: 0.8rem;
      font-weight: 600;
      text-transform: uppercase;
      letter-spacing: 0.5px;
    }

    .start-button {
      background: var(--primary-gradient);
      border: none;
      border-radius: 15px;
      padding: 1rem 3rem;
      font-size: 1.2rem;
      font-weight: 700;
      color: white;
      transition: all 0.3s ease;
      text-transform: uppercase;
      letter-spacing: 1px;
      position: relative;
      overflow: hidden;
    }

    .start-button::before {
      content: '';
      position: absolute;
      top: 0;
      left: -100%;
      width: 100%;
      height: 100%;
      background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);
      transition: left 0.5s;
    }

    .start-button:hover::before {
      left: 100%;
    }

    .start-button:hover {
      transform: translateY(-3px);
      box-shadow: 0 10px 25px rgba(102, 126, 234, 0.4);
    }

    .start-button:disabled {
      background: #e9ecef;
      color: #6c757d;
      transform: none;
      box-shadow: none;
      cursor: not-allowed;
    }

    .start-button:disabled::before {
      display: none;
    }

    .error-message {
      background: #fee;
      color: #c53030;
      padding: 1rem;
      border-radius: 10px;
      border-left: 4px solid #c53030;
      margin-top: 1rem;
      font-weight: 500;
    }

    .feature-icons {
      display: flex;
      justify-content: center;
      gap: 2rem;
      margin: 2rem 0;
      flex-wrap: wrap;
    }

    .feature-icon {
      display: flex;
      flex-direction: column;
      align-items: center;
      opacity: 0.9;
    }

    .feature-icon-circle {
      width: 60px;
      height: 60px;
      background: rgba(255, 255, 255, 0.2);
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      margin-bottom: 0.5rem;
      font-size: 1.5rem;
    }

    .feature-text {
      font-size: 0.9rem;
      text-align: center;
    }

    .floating-elements {
      position: absolute;
      width: 100%;
      height: 100%;
      overflow: hidden;
      pointer-events: none;
    }

    .floating-camera {
      position: absolute;
      font-size: 2rem;
      opacity: 0.1;
      animation: float 6s ease-in-out infinite;
    }

    .floating-camera:nth-child(1) { top: 10%; left: 10%; animation-delay: 0s; }
    .floating-camera:nth-child(2) { top: 20%; right: 10%; animation-delay: 2s; }
    .floating-camera:nth-child(3) { bottom: 20%; left: 15%; animation-delay: 4s; }

    @keyframes float {
      0%, 100% { transform: translateY(0px) rotate(0deg); }
      50% { transform: translateY(-20px) rotate(5deg); }
    }

    .section-title {
      font-size: 2rem;
      font-weight: 700;
      text-align: center;
      margin-bottom: 3rem;
      color: #2d3748;
      position: relative;
    }

    .section-title::after {
      content: '';
      position: absolute;
      bottom: -10px;
      left: 50%;
      transform: translateX(-50%);
      width: 50px;
      height: 3px;
      background: var(--primary-gradient);
      border-radius: 2px;
    }

    @media (max-width: 768px) {
      .hero-title {
        font-size: 2rem;
      }
      
      .hero-subtitle {
        font-size: 1rem;
      }
      
      .template-card {
        margin-bottom: 2rem;
      }
      
      .feature-icons {
        gap: 1rem;
      }
    }

    /* Loading animation */
    .loading-overlay {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(102, 126, 234, 0.9);
      display: none;
      justify-content: center;
      align-items: center;
      z-index: 9999;
      backdrop-filter: blur(5px);
    }

    .loading-content {
      text-align: center;
      color: white;
    }

    .loading-spinner {
      width: 60px;
      height: 60px;
      border: 4px solid rgba(255, 255, 255, 0.3);
      border-radius: 50%;
      border-top-color: white;
      animation: spin 1s ease-in-out infinite;
      margin: 0 auto 1rem;
    }

    @keyframes spin {
      to { transform: rotate(360deg); }
    }
  </style>
</head>
<body>
  <!-- Loading Overlay -->
  <div class="loading-overlay" id="loadingOverlay">
    <div class="loading-content">
      <div class="loading-spinner"></div>
      <h4>Setting up your photo session...</h4>
      <p>Get ready to create amazing memories!</p>
    </div>
  </div>

  <!-- Navbar -->
  <nav class="navbar navbar-expand-lg fixed-top">
    <div class="container">
      <a class="navbar-brand" href="#" aria-label="Photo Booth Home">üì∏ Photo Booth</a>
      <div class="navbar-nav ms-auto">
        <a class="nav-link" href="gallery.html" style="color: #667eea; font-weight: 600;">
          üñºÔ∏è Gallery
        </a>
      </div>
    </div>
  </nav>

  <!-- Main Container -->
  <main class="container-fluid d-flex align-items-center justify-content-center" style="min-height: 100vh; padding-top: 100px;">
    <div class="main-container">
      
      <!-- Hero Section -->
      <div class="hero-section">
        <div class="floating-elements">
          <div class="floating-camera">üì∏</div>
          <div class="floating-camera">üé≠</div>
          <div class="floating-camera">‚ú®</div>
        </div>
        
        <h1 class="hero-title">Create Amazing Memories</h1>
        <p class="hero-subtitle">Professional photo booth experience right in your browser</p>
        
        <div class="feature-icons">
          <div class="feature-icon">
            <div class="feature-icon-circle">üì∑</div>
            <div class="feature-text">High Quality<br>Photos</div>
          </div>
          <div class="feature-icon">
            <div class="feature-icon-circle">üé®</div>
            <div class="feature-text">Creative<br>Templates</div>
          </div>
          <div class="feature-icon">
            <div class="feature-icon-circle">üìß</div>
            <div class="feature-text">Instant<br>Email Delivery</div>
          </div>
          <div class="feature-icon">
            <div class="feature-icon-circle">üîí</div>
            <div class="feature-text">Privacy<br>Protected</div>
          </div>
        </div>
      </div>

      <!-- Form Section -->
      <div class="form-section">
        <form id="start-form" novalidate>
          
          <!-- Email Input -->
          <div class="mb-5">
            <label for="email" class="form-label fs-5 fw-bold text-center d-block mb-3">
              üìß Where should we send your photos?
            </label>
            <input 
              type="email" 
              id="email" 
              name="email" 
              class="form-control email-input text-center" 
              placeholder="your.email@example.com" 
              required 
              aria-required="true"
            />
            <div class="text-center mt-2">
              <small class="text-muted">We'll send your photos here and delete them after 24 hours</small>
            </div>
          </div>

          <!-- Template Selection -->
          <div class="mb-5">
            <h2 class="section-title">Choose Your Photo Experience</h2>
            
            <div class="row g-4">
              <!-- 4 Shots Template -->
              <div class="col-lg-6">
                <div class="template-card" data-template="4">
                  <input type="radio" id="layout-choice-4" name="layout-choice" value="4" class="d-none" />
                  <div class="template-image-wrapper">
                    <img src="assets/img/4-Shots-Template.PNG" alt="4 Shots Layout" class="template-img" />
                  </div>
                  <div class="template-info">
                    <h3 class="template-title">Classic Experience</h3>
                    <p class="template-description">Perfect for quick sessions and events. Clean, timeless design that works for everyone.</p>
                    <span class="template-badge">4 Shots</span>
                  </div>
                </div>
              </div>

              <!-- 6 Shots Template -->
              <div class="col-lg-6">
                <div class="template-card" data-template="6">
                  <input type="radio" id="layout-choice-6" name="layout-choice" value="6" class="d-none" />
                  <div class="template-image-wrapper">
                    <img src="assets/img/6-Shots-Template.PNG" alt="6 Shots Layout" class="template-img" />
                  </div>
                  <div class="template-info">
                    <h3 class="template-title">Premium Experience</h3>
                    <p class="template-description">More shots, more fun! Ideal for special occasions and group photos.</p>
                    <span class="template-badge">6 Shots</span>
                  </div>
                </div>
              </div>
            </div>
          </div>

          <!-- Start Button -->
          <div class="text-center">
            <button id="startSessionBtn" class="start-button" type="submit" disabled>
              üöÄ Start Photo Session
            </button>
            <div id="error-message" class="error-message" style="display: none;" role="alert" aria-live="assertive"></div>
            
            <div class="mt-4">
              <small class="text-muted">
                By starting a session, you agree to our privacy policy. Photos are automatically deleted after 24 hours.
              </small>
            </div>
          </div>

        </form>
      </div>
    </div>
  </main>

  <!-- Scripts -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
  
  <script>
    document.addEventListener("DOMContentLoaded", () => {
      const emailInput = document.getElementById("email");
      const templateCards = document.querySelectorAll(".template-card");
      const startBtn = document.getElementById("startSessionBtn");
      const errorMessage = document.getElementById("error-message");
      const loadingOverlay = document.getElementById("loadingOverlay");
      
      let selectedTemplate = null;

      function validateForm() {
        const email = emailInput.value.trim();
        const emailValid = /^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(email);
        
        if (emailValid && selectedTemplate) {
          startBtn.disabled = false;
          startBtn.style.background = "var(--primary-gradient)";
        } else {
          startBtn.disabled = true;
          startBtn.style.background = "#e9ecef";
        }
      }

      function showError(message) {
        errorMessage.style.display = "block";
        errorMessage.textContent = message;
        setTimeout(() => {
          errorMessage.style.display = "none";
        }, 5000);
      }

      // Email validation
      emailInput.addEventListener("input", validateForm);
      emailInput.addEventListener("blur", () => {
        const email = emailInput.value.trim();
        if (email && !/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(email)) {
          emailInput.style.borderColor = "#dc3545";
          showError("Please enter a valid email address");
        } else {
          emailInput.style.borderColor = "#667eea";
        }
      });

      // Template selection
      templateCards.forEach(card => {
        card.addEventListener("click", () => {
          // Remove previous selection
          templateCards.forEach(c => c.classList.remove("selected"));
          
          // Select current card
          card.classList.add("selected");
          
          // Update radio button
          const templateValue = card.dataset.template;
          const radio = document.getElementById(`layout-choice-${templateValue}`);
          radio.checked = true;
          
          selectedTemplate = templateValue;
          validateForm();
        });
      });

      // Form submission
      document.getElementById("start-form").addEventListener("submit", (e) => {
        e.preventDefault();

        const email = emailInput.value.trim();
        
        if (!email) {
          showError("Please enter your email address");
          emailInput.focus();
          return;
        }

        if (!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(email)) {
          showError("Please enter a valid email address");
          emailInput.focus();
          return;
        }

        if (!selectedTemplate) {
          showError("Please select a photo template");
          return;
        }

        // Show loading
        loadingOverlay.style.display = "flex";

        // Save to localStorage
        localStorage.setItem("selectedLayout", selectedTemplate);
        localStorage.setItem("userEmail", email);

        // Redirect with delay for better UX
        setTimeout(() => {
          window.location.href = "camera.html";
        }, 2000);
      });

      // Add smooth scroll behavior
      document.documentElement.style.scrollBehavior = 'smooth';
    });
  </script>
</body>
</html>